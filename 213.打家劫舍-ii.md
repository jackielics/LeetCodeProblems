![image.png](https://pic.leetcode.cn/1696774625-DCIcUr-image.png)

# Intuition
DP

# Approach
use 'House Robber' function twice

# Complexity
- Time complexity:
$$O(n)$$

- Space complexity:
$$O(1)$$

# Code
```python
class Solution:
	def rob(self, nums: List[int]) -> int:
		'''
		Master's Sulotion: DP, ignore either first or last one 
		'''
		# 1 <= nums.length <= 100
		if len(nums) <= 3:
			return max(nums)
		
		pp1, p1 = pp2, p2 = 0, 0
		for v1, v2 in zip(nums[1:], nums[:-1]): # ignore first or last
			cur1, cur2 = max(p1, pp1 + v1), max(p2, pp2 + v2)
			pp1, pp2 = p1, p2
			p1, p2 = cur1, cur2
		
		return max(cur1, cur2)

	def rob(self, nums: List[int]) -> int:
		if len(nums) <= 3:
			return max(nums)

		matrix1, matrix2 = [0] * (len(nums) - 1), [0] * (len(nums) - 1)
		matrix1[0], matrix1[1] = nums[0], max(nums[0], nums[1])
		matrix2[0], matrix2[1] = nums[1], max(nums[1], nums[2])

		for i in range(2, len(nums) - 1):
			matrix1[i] = max(matrix1[i-1], matrix1[i-2] + nums[i])
			matrix2[i] = max(matrix2[i-1], matrix2[i-2] + nums[i+1])

		return max(matrix1[-1], matrix2[-1])
```
# Reference
[198. House Robber](https://leetcode.com/problems/house-robber/)